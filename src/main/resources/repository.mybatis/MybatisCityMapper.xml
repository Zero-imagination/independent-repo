<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.disagreed.independentrepo.repository.mybatis.MybatisCityMapper">

    <resultMap id="city" type="com.disagreed.independentrepo.model.entity.CityEntity" autoMapping="true">
        <id property="cityId" column="city_id"/>
        <result property="name" column="name"/>
        <result property="isCapital" column="is_capital"/>
        <result property="area" column="area"/>
        <result property="population" column="population"/>
        <result property="density" column="density"/>
        <result property="coordinates" column="coordinates"/>
        <association property="country"
                     javaType="com.disagreed.independentrepo.model.entity.CountryEntity"
                     jdbcType="countryId"
                     autoMapping="true">
            <id property="countryId" column="country_id"/>
            <result property="name" column="name"/>
            <result property="natioanlLanguage" column="national_language"/>
            <result property="area" column="area"/>
            <result property="population" column="population"/>
            <result property="density" column="density"/>
            <result property="coordinates" column="coordinates"/>
        </association>
    </resultMap>

    <select id="getAll" resultMap="city">
        select *
        from city
        where action_ind != 'D'
    </select>

</mapper>